<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cn博客</title>
    <script type="text/javascript" src="js/jquery@3.3.1/jquery.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script>
        function logout(){
            //发送一个ajax请求；
            //后端删除session，
            //
            $.ajax({
                url:'../api/user/logout',
                success:function (r) {
                    if(r.success){
                        window.location.href = "../index.html"
                    }else{
                        alert("错误码："+r.code+"\n错误信息："+r.message)
                    }
                },
                error: function (req, textStatus, err) {
                    //err有值，属于js语法报错
                    if(err != undefined && err != null){
                        alert(err)
                    }else{
                        alert(req.status)
                    }
                }
            })
        }
    </script>
</head>
<body>
    <div id="index_unlogin" style="height: 50px;background:wheat">
        <a href="view/login.html">登录</a>
        <a href="view/register.html" >注册</a>
    </div>
    <div id="index_login" style="height: 50px;background: wheat">
        <a href="view/articles.html" >个人博客</a>
        <a href="javascript:void (0)" onclick="logout()">注销</a>
    </div>
    <ul id="index_articles"></ul>
</body>
</html>